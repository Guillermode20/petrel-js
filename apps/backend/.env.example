# Petrel Backend Environment Configuration
# Copy this file to .env and fill in your values

# ===========================================
# REQUIRED SETTINGS
# ===========================================

# JWT secret for signing access tokens (generate with: openssl rand -hex 64)
JWT_SECRET=your-secret-key-change-in-production

# JWT secret for signing refresh tokens (generate with: openssl rand -hex 64)
JWT_REFRESH_SECRET=your-refresh-secret-change-in-production

# ===========================================
# DATABASE
# ===========================================

# SQLite database path (relative to backend root)
DATABASE_PATH=./petrel.db

# ===========================================
# SERVER SETTINGS
# ===========================================

# Port to run the server on
PORT=4000

# Frontend URL for CORS configuration
FRONTEND_URL=http://localhost:5173

# ===========================================
# STORAGE
# ===========================================

# Base directory for file storage (relative to backend root)
STORAGE_PATH=./storage

# ===========================================
# OPTIONAL: REDIS CACHING
# ===========================================

# Redis connection URL (leave empty to disable caching)
REDIS_URL=

# ===========================================
# OPTIONAL: TRANSCODING
# ===========================================

# Maximum concurrent transcode jobs (default: 2)
MAX_CONCURRENT_TRANSCODES=2
# Enable FLAC -> Opus audio variants for streaming (true/false)
AUDIO_TRANSCODE_FLAC=false
# Target Opus bitrate in kbps (64-512)
AUDIO_OPUS_BITRATE_KBPS=160

# ===========================================
# OPTIONAL: GUEST ACCESS
# ===========================================

# Enable anonymous/guest access to files (true/false)
PETREL_GUEST_ACCESS=false

# ===========================================
# LOGGING
# ===========================================

# Log level: trace, debug, info, warn, error, fatal (default: info)
LOG_LEVEL=info

# Pretty print logs in development (true/false)
LOG_PRETTY=true
