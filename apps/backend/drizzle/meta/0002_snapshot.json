{
	"version": "6",
	"dialect": "sqlite",
	"id": "4732e95c-53d9-4fcd-b42d-9fd5e90f75f4",
	"prevId": "a4823183-7a66-431a-bfae-ccd829cc0424",
	"tables": {
		"files": {
			"name": "files",
			"columns": {
				"id": {
					"name": "id",
					"type": "integer",
					"primaryKey": true,
					"notNull": true,
					"autoincrement": true
				},
				"name": {
					"name": "name",
					"type": "text",
					"primaryKey": false,
					"notNull": true,
					"autoincrement": false
				},
				"path": {
					"name": "path",
					"type": "text",
					"primaryKey": false,
					"notNull": true,
					"autoincrement": false
				},
				"size": {
					"name": "size",
					"type": "integer",
					"primaryKey": false,
					"notNull": true,
					"autoincrement": false
				},
				"mime_type": {
					"name": "mime_type",
					"type": "text",
					"primaryKey": false,
					"notNull": true,
					"autoincrement": false
				},
				"hash": {
					"name": "hash",
					"type": "text",
					"primaryKey": false,
					"notNull": true,
					"autoincrement": false
				},
				"uploaded_by": {
					"name": "uploaded_by",
					"type": "integer",
					"primaryKey": false,
					"notNull": false,
					"autoincrement": false
				},
				"parent_id": {
					"name": "parent_id",
					"type": "integer",
					"primaryKey": false,
					"notNull": false,
					"autoincrement": false
				},
				"thumbnail_path": {
					"name": "thumbnail_path",
					"type": "text",
					"primaryKey": false,
					"notNull": false,
					"autoincrement": false
				},
				"metadata": {
					"name": "metadata",
					"type": "text",
					"primaryKey": false,
					"notNull": false,
					"autoincrement": false
				},
				"created_at": {
					"name": "created_at",
					"type": "integer",
					"primaryKey": false,
					"notNull": true,
					"autoincrement": false,
					"default": "(unixepoch())"
				}
			},
			"indexes": {},
			"foreignKeys": {
				"files_uploaded_by_users_id_fk": {
					"name": "files_uploaded_by_users_id_fk",
					"tableFrom": "files",
					"tableTo": "users",
					"columnsFrom": ["uploaded_by"],
					"columnsTo": ["id"],
					"onDelete": "no action",
					"onUpdate": "no action"
				},
				"files_parent_id_folders_id_fk": {
					"name": "files_parent_id_folders_id_fk",
					"tableFrom": "files",
					"tableTo": "folders",
					"columnsFrom": ["parent_id"],
					"columnsTo": ["id"],
					"onDelete": "no action",
					"onUpdate": "no action"
				}
			},
			"compositePrimaryKeys": {},
			"uniqueConstraints": {},
			"checkConstraints": {}
		},
		"folders": {
			"name": "folders",
			"columns": {
				"id": {
					"name": "id",
					"type": "integer",
					"primaryKey": true,
					"notNull": true,
					"autoincrement": true
				},
				"name": {
					"name": "name",
					"type": "text",
					"primaryKey": false,
					"notNull": true,
					"autoincrement": false
				},
				"path": {
					"name": "path",
					"type": "text",
					"primaryKey": false,
					"notNull": true,
					"autoincrement": false
				},
				"parent_id": {
					"name": "parent_id",
					"type": "integer",
					"primaryKey": false,
					"notNull": false,
					"autoincrement": false
				},
				"owner_id": {
					"name": "owner_id",
					"type": "integer",
					"primaryKey": false,
					"notNull": false,
					"autoincrement": false
				}
			},
			"indexes": {},
			"foreignKeys": {
				"folders_parent_id_folders_id_fk": {
					"name": "folders_parent_id_folders_id_fk",
					"tableFrom": "folders",
					"tableTo": "folders",
					"columnsFrom": ["parent_id"],
					"columnsTo": ["id"],
					"onDelete": "no action",
					"onUpdate": "no action"
				},
				"folders_owner_id_users_id_fk": {
					"name": "folders_owner_id_users_id_fk",
					"tableFrom": "folders",
					"tableTo": "users",
					"columnsFrom": ["owner_id"],
					"columnsTo": ["id"],
					"onDelete": "no action",
					"onUpdate": "no action"
				}
			},
			"compositePrimaryKeys": {},
			"uniqueConstraints": {},
			"checkConstraints": {}
		},
		"refresh_tokens": {
			"name": "refresh_tokens",
			"columns": {
				"id": {
					"name": "id",
					"type": "integer",
					"primaryKey": true,
					"notNull": true,
					"autoincrement": true
				},
				"user_id": {
					"name": "user_id",
					"type": "integer",
					"primaryKey": false,
					"notNull": true,
					"autoincrement": false
				},
				"token_hash": {
					"name": "token_hash",
					"type": "text",
					"primaryKey": false,
					"notNull": true,
					"autoincrement": false
				},
				"expires_at": {
					"name": "expires_at",
					"type": "integer",
					"primaryKey": false,
					"notNull": true,
					"autoincrement": false
				},
				"created_at": {
					"name": "created_at",
					"type": "integer",
					"primaryKey": false,
					"notNull": true,
					"autoincrement": false,
					"default": "(unixepoch())"
				},
				"revoked_at": {
					"name": "revoked_at",
					"type": "integer",
					"primaryKey": false,
					"notNull": false,
					"autoincrement": false
				}
			},
			"indexes": {
				"refresh_tokens_token_hash_unique": {
					"name": "refresh_tokens_token_hash_unique",
					"columns": ["token_hash"],
					"isUnique": true
				},
				"refresh_tokens_user_id_idx": {
					"name": "refresh_tokens_user_id_idx",
					"columns": ["user_id"],
					"isUnique": false
				},
				"refresh_tokens_token_hash_idx": {
					"name": "refresh_tokens_token_hash_idx",
					"columns": ["token_hash"],
					"isUnique": false
				}
			},
			"foreignKeys": {
				"refresh_tokens_user_id_users_id_fk": {
					"name": "refresh_tokens_user_id_users_id_fk",
					"tableFrom": "refresh_tokens",
					"tableTo": "users",
					"columnsFrom": ["user_id"],
					"columnsTo": ["id"],
					"onDelete": "cascade",
					"onUpdate": "no action"
				}
			},
			"compositePrimaryKeys": {},
			"uniqueConstraints": {},
			"checkConstraints": {}
		},
		"share_settings": {
			"name": "share_settings",
			"columns": {
				"share_id": {
					"name": "share_id",
					"type": "integer",
					"primaryKey": true,
					"notNull": true,
					"autoincrement": false
				},
				"allow_download": {
					"name": "allow_download",
					"type": "integer",
					"primaryKey": false,
					"notNull": true,
					"autoincrement": false,
					"default": true
				},
				"allow_zip": {
					"name": "allow_zip",
					"type": "integer",
					"primaryKey": false,
					"notNull": true,
					"autoincrement": false,
					"default": false
				},
				"show_metadata": {
					"name": "show_metadata",
					"type": "integer",
					"primaryKey": false,
					"notNull": true,
					"autoincrement": false,
					"default": true
				}
			},
			"indexes": {},
			"foreignKeys": {
				"share_settings_share_id_shares_id_fk": {
					"name": "share_settings_share_id_shares_id_fk",
					"tableFrom": "share_settings",
					"tableTo": "shares",
					"columnsFrom": ["share_id"],
					"columnsTo": ["id"],
					"onDelete": "no action",
					"onUpdate": "no action"
				}
			},
			"compositePrimaryKeys": {},
			"uniqueConstraints": {},
			"checkConstraints": {}
		},
		"shares": {
			"name": "shares",
			"columns": {
				"id": {
					"name": "id",
					"type": "integer",
					"primaryKey": true,
					"notNull": true,
					"autoincrement": true
				},
				"type": {
					"name": "type",
					"type": "text",
					"primaryKey": false,
					"notNull": true,
					"autoincrement": false
				},
				"target_id": {
					"name": "target_id",
					"type": "integer",
					"primaryKey": false,
					"notNull": true,
					"autoincrement": false
				},
				"token": {
					"name": "token",
					"type": "text",
					"primaryKey": false,
					"notNull": true,
					"autoincrement": false
				},
				"expires_at": {
					"name": "expires_at",
					"type": "integer",
					"primaryKey": false,
					"notNull": false,
					"autoincrement": false
				},
				"password_hash": {
					"name": "password_hash",
					"type": "text",
					"primaryKey": false,
					"notNull": false,
					"autoincrement": false
				},
				"download_count": {
					"name": "download_count",
					"type": "integer",
					"primaryKey": false,
					"notNull": true,
					"autoincrement": false,
					"default": 0
				},
				"view_count": {
					"name": "view_count",
					"type": "integer",
					"primaryKey": false,
					"notNull": true,
					"autoincrement": false,
					"default": 0
				}
			},
			"indexes": {
				"shares_token_unique": {
					"name": "shares_token_unique",
					"columns": ["token"],
					"isUnique": true
				}
			},
			"foreignKeys": {},
			"compositePrimaryKeys": {},
			"uniqueConstraints": {},
			"checkConstraints": {}
		},
		"subtitles": {
			"name": "subtitles",
			"columns": {
				"id": {
					"name": "id",
					"type": "integer",
					"primaryKey": true,
					"notNull": true,
					"autoincrement": true
				},
				"file_id": {
					"name": "file_id",
					"type": "integer",
					"primaryKey": false,
					"notNull": true,
					"autoincrement": false
				},
				"language": {
					"name": "language",
					"type": "text",
					"primaryKey": false,
					"notNull": true,
					"autoincrement": false
				},
				"path": {
					"name": "path",
					"type": "text",
					"primaryKey": false,
					"notNull": true,
					"autoincrement": false
				},
				"format": {
					"name": "format",
					"type": "text",
					"primaryKey": false,
					"notNull": true,
					"autoincrement": false
				},
				"title": {
					"name": "title",
					"type": "text",
					"primaryKey": false,
					"notNull": false,
					"autoincrement": false
				}
			},
			"indexes": {},
			"foreignKeys": {
				"subtitles_file_id_files_id_fk": {
					"name": "subtitles_file_id_files_id_fk",
					"tableFrom": "subtitles",
					"tableTo": "files",
					"columnsFrom": ["file_id"],
					"columnsTo": ["id"],
					"onDelete": "no action",
					"onUpdate": "no action"
				}
			},
			"compositePrimaryKeys": {},
			"uniqueConstraints": {},
			"checkConstraints": {}
		},
		"transcode_jobs": {
			"name": "transcode_jobs",
			"columns": {
				"id": {
					"name": "id",
					"type": "integer",
					"primaryKey": true,
					"notNull": true,
					"autoincrement": true
				},
				"file_id": {
					"name": "file_id",
					"type": "integer",
					"primaryKey": false,
					"notNull": true,
					"autoincrement": false
				},
				"status": {
					"name": "status",
					"type": "text",
					"primaryKey": false,
					"notNull": true,
					"autoincrement": false,
					"default": "'pending'"
				},
				"progress": {
					"name": "progress",
					"type": "integer",
					"primaryKey": false,
					"notNull": true,
					"autoincrement": false,
					"default": 0
				},
				"output_path": {
					"name": "output_path",
					"type": "text",
					"primaryKey": false,
					"notNull": false,
					"autoincrement": false
				},
				"created_at": {
					"name": "created_at",
					"type": "integer",
					"primaryKey": false,
					"notNull": true,
					"autoincrement": false,
					"default": "(unixepoch())"
				},
				"completed_at": {
					"name": "completed_at",
					"type": "integer",
					"primaryKey": false,
					"notNull": false,
					"autoincrement": false
				},
				"error": {
					"name": "error",
					"type": "text",
					"primaryKey": false,
					"notNull": false,
					"autoincrement": false
				}
			},
			"indexes": {},
			"foreignKeys": {
				"transcode_jobs_file_id_files_id_fk": {
					"name": "transcode_jobs_file_id_files_id_fk",
					"tableFrom": "transcode_jobs",
					"tableTo": "files",
					"columnsFrom": ["file_id"],
					"columnsTo": ["id"],
					"onDelete": "no action",
					"onUpdate": "no action"
				}
			},
			"compositePrimaryKeys": {},
			"uniqueConstraints": {},
			"checkConstraints": {}
		},
		"users": {
			"name": "users",
			"columns": {
				"id": {
					"name": "id",
					"type": "integer",
					"primaryKey": true,
					"notNull": true,
					"autoincrement": true
				},
				"username": {
					"name": "username",
					"type": "text",
					"primaryKey": false,
					"notNull": true,
					"autoincrement": false
				},
				"password_hash": {
					"name": "password_hash",
					"type": "text",
					"primaryKey": false,
					"notNull": true,
					"autoincrement": false
				},
				"role": {
					"name": "role",
					"type": "text",
					"primaryKey": false,
					"notNull": true,
					"autoincrement": false,
					"default": "'user'"
				},
				"created_at": {
					"name": "created_at",
					"type": "integer",
					"primaryKey": false,
					"notNull": true,
					"autoincrement": false,
					"default": "(unixepoch())"
				}
			},
			"indexes": {
				"users_username_unique": {
					"name": "users_username_unique",
					"columns": ["username"],
					"isUnique": true
				}
			},
			"foreignKeys": {},
			"compositePrimaryKeys": {},
			"uniqueConstraints": {},
			"checkConstraints": {}
		},
		"video_tracks": {
			"name": "video_tracks",
			"columns": {
				"id": {
					"name": "id",
					"type": "integer",
					"primaryKey": true,
					"notNull": true,
					"autoincrement": true
				},
				"file_id": {
					"name": "file_id",
					"type": "integer",
					"primaryKey": false,
					"notNull": true,
					"autoincrement": false
				},
				"track_type": {
					"name": "track_type",
					"type": "text",
					"primaryKey": false,
					"notNull": true,
					"autoincrement": false
				},
				"codec": {
					"name": "codec",
					"type": "text",
					"primaryKey": false,
					"notNull": true,
					"autoincrement": false
				},
				"language": {
					"name": "language",
					"type": "text",
					"primaryKey": false,
					"notNull": false,
					"autoincrement": false
				},
				"index": {
					"name": "index",
					"type": "integer",
					"primaryKey": false,
					"notNull": true,
					"autoincrement": false
				},
				"title": {
					"name": "title",
					"type": "text",
					"primaryKey": false,
					"notNull": false,
					"autoincrement": false
				}
			},
			"indexes": {},
			"foreignKeys": {
				"video_tracks_file_id_files_id_fk": {
					"name": "video_tracks_file_id_files_id_fk",
					"tableFrom": "video_tracks",
					"tableTo": "files",
					"columnsFrom": ["file_id"],
					"columnsTo": ["id"],
					"onDelete": "no action",
					"onUpdate": "no action"
				}
			},
			"compositePrimaryKeys": {},
			"uniqueConstraints": {},
			"checkConstraints": {}
		}
	},
	"views": {},
	"enums": {},
	"_meta": {
		"schemas": {},
		"tables": {},
		"columns": {}
	},
	"internal": {
		"indexes": {}
	}
}
